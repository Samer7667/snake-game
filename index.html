<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†</title>
  
  <!-- ğŸŸ¢ Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ¥Ø¹Ø¯Ø§Ø¯ PWA -->
  <link rel="manifest" href="manifest.json">
<link rel="icon" href="icons/icon-192.png">
<meta name="theme-color" content="#00ff00">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ÙˆØ³ÙˆÙ… Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© (Open Graph) -->
<meta property="og:title" content="Ù„Ø¹Ø¨Ø© Ø§Ù„Ø«Ø¹Ø¨Ø§Ù† ğŸ®" />
<meta property="og:description" content="Ø¬Ø±Ø¨ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø«Ø¹Ø¨Ø§Ù† Ø§Ù„Ø¢Ù† Ù…Ø¬Ø§Ù†Ø§Ù‹ Ø¹Ù„Ù‰ Ù…ØªØµÙØ­Ùƒ!" />
<meta property="og:url" content="https://samer7667.github.io/snake-game/" />
<meta property="og:image" content="https://samer7667.github.io/snake-game/icons/icon-512.png" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />

  <style>
    body {
      background-color: #222;
      display: flex;
      flex-direction: column;
      align-items: center;
      color: white;
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }

    canvas {
      background: #111;
      margin-top: 20px;
    }

    .controls {
      display: grid;
      grid-template-columns: repeat(3, 60px);
      gap: 10px;
      margin: 20px;
    }

    .controls button {
      width: 60px;
      height: 60px;
      font-size: 20px;
      border: none;
      border-radius: 8px;
      background: #555;
      color: white;
    }

    .controls button:active {
      background: #777;
    }
.menu-container {
  position: fixed;
  top: 10px;
  right: 10px; /* Ø§Ø³ØªØ®Ø¯Ù… left: 10px; Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠØ³Ø§Ø± */
  z-index: 9999;
}

#menu-button {
  background-color: #444;
  color: white;
  border: none;
  padding: 10px 15px;
  font-size: 18px;
  border-radius: 6px;
  cursor: pointer;
}

.menu-popup {
  display: none;
  background-color: #333;
  border: 1px solid #555;
  border-radius: 6px;
  margin-top: 5px;
  padding: 10px;
  position: absolute;
  right: 0;
}

.menu-popup a {
  color: white;
  text-decoration: none;
  display: block;
}
.menu-popup a:hover {
  text-decoration: underline;
}

    @media (max-width: 600px) {
      canvas {
        width: 90vw;
        height: 90vw;
      }
    }
  </style>
</head>
<body>
  <div class="menu-container">
  <button id="menu-button">â˜°</button>
  <div class="menu-popup" id="menu-popup">
    <a href="https://samer7667.github.io/links-site/" target="_blank">ğŸ”— Ù…Ø±ÙƒØ² Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹</a>
  </div>
</div>

<img src="profile.jpg" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬" class="PROGRAMMER-SAMMER-img">

  <h1>ğŸ® Ù„Ø¹Ø¨Ø© Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†</h1>

  <p id="score">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</p>

  <canvas id="game" width="400" height="400"></canvas>

  <div class="controls">
  <div></div>
  <button onclick="setDirection('up')">â¬†ï¸</button>
  <div></div>
  <button onclick="setDirection('right')">â¡ï¸</button>
  <button onclick="setDirection('down')">â¬‡ï¸</button>
  <button onclick="setDirection('left')">â¬…ï¸</button>

</div>

<style>
  .PROGRAMMER-SAMMER-img {
    width: 30vw; /* 30% Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø§Ø´Ø© */
    max-width: 120px; /* Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 120px */
    height: auto; /* ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ†Ø§Ø³Ù‚ */
    aspect-ratio: 1 / 1; /* ÙŠØ¬Ø¹Ù„Ù‡Ø§ Ù…Ø±Ø¨Ø¹Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§ */
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #fff;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    display: block;
    margin: 20px auto;
  }
</style>
<script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');

    const box = 20;
    const canvasSize = 400;
    let snake = [{ x: 200, y: 200 }];
    let direction = 'right';
    let food = generateFood();
    let gameOver = false;
    let score = 0;

    function generateFood() {
  let newFood;
  do {
    newFood = {
      x: Math.floor(Math.random() * (canvasSize / box)) * box,
      y: Math.floor(Math.random() * (canvasSize / box)) * box
    };
  } while (snake.some(segment => segment.x === newFood.x && segment.y === newFood.y));
  return newFood;
}


    function draw() {
      if (gameOver) return;

      ctx.fillStyle = '#111';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      // Ø±Ø³Ù… Ø§Ù„Ø´Ø¨ÙƒØ©
ctx.strokeStyle = '#333';
for (let x = 0; x < canvas.width; x += box) {
  ctx.beginPath();
  ctx.moveTo(x, 0);
  ctx.lineTo(x, canvas.height);
  ctx.stroke();
}
for (let y = 0; y < canvas.height; y += box) {
  ctx.beginPath();
  ctx.moveTo(0, y);
  ctx.lineTo(canvas.width, y);
  ctx.stroke();
}

      for (let i = 0; i < snake.length; i++) {
        ctx.fillStyle = i === 0 ? 'lime' : 'green';
        ctx.fillRect(snake[i].x, snake[i].y, box, box);
      }

      ctx.fillStyle = 'red';
      ctx.fillRect(food.x, food.y, box, box);

      let head = { x: snake[0].x, y: snake[0].y };

      if (direction === 'right') head.x += box;
      if (direction === 'left') head.x -= box;
      if (direction === 'up') head.y -= box;
      if (direction === 'down') head.y += box;

      // Ø§Ù„ØªÙØ§Ù Ù…Ù† Ø§Ù„Ø­ÙˆØ§Ù
if (head.x < 0) head.x = canvas.width - box;
if (head.x >= canvas.width) head.x = 0;
if (head.y < 0) head.y = canvas.height - box;
if (head.y >= canvas.height) head.y = 0;

// Ø§Ù„Ø§ØµØ·Ø¯Ø§Ù… Ø¨Ø§Ù„Ø°ÙŠÙ„ ÙÙ‚Ø· ÙŠØ³Ø¨Ø¨ Ø§Ù„Ø®Ø³Ø§Ø±Ø©
if (snake.some(segment => segment.x === head.x && segment.y === head.y)) {
  gameOver = true;
alert(`Ø§ØµØ·Ø¯Ù…Øª Ø¨Ø°ÙŠÙ„Ùƒ! Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!\nÙ†Ù‚Ø§Ø·Ùƒ: ${score}`);
  location.reload();
  return;
}


      snake.unshift(head);

      if (head.x === food.x && head.y === food.y) {
  food = generateFood();
  score += 1;
  document.getElementById('score').innerText = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
} else {
  snake.pop();
}

    }

    setInterval(draw, 150);

    document.addEventListener('keydown', e => {
      if (e.key === 'ArrowUp' && direction !== 'down') direction = 'up';
      if (e.key === 'ArrowDown' && direction !== 'up') direction = 'down';
      if (e.key === 'ArrowLeft' && direction !== 'right') direction = 'left';
      if (e.key === 'ArrowRight' && direction !== 'left') direction = 'right';
    });

    function setDirection(dir) {
      if (dir === 'up' && direction !== 'down') direction = 'up';
      if (dir === 'down' && direction !== 'up') direction = 'down';
      if (dir === 'left' && direction !== 'right') direction = 'left';
      if (dir === 'right' && direction !== 'left') direction = 'right';
    }
    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù€ Service Worker
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js')
    .then(function(reg) {
      console.log('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Service Worker Ø¨Ù†Ø¬Ø§Ø­:', reg.scope);
    })
    .catch(function(err) {
      console.log('âŒ ÙØ´Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„:', err);
    });
}

  </script>
  <script>
  const menuButton = document.getElementById('menu-button');
  const menuPopup = document.getElementById('menu-popup');

  menuButton.addEventListener('click', () => {
    menuPopup.style.display = menuPopup.style.display === 'block' ? 'none' : 'block';
  });

  // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¥Ø°Ø§ Ù†Ù‚Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø®Ø§Ø±Ø¬Ù‡Ø§
  document.addEventListener('click', function(event) {
    if (!menuButton.contains(event.target) && !menuPopup.contains(event.target)) {
      menuPopup.style.display = 'none';
    }
  });
</script>

</body>
</html>
